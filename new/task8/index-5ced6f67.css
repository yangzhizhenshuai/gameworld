*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#f5f5f5;height:100vh;overflow:hidden}#root{height:100vh;display:flex;flex-direction:column}.app{display:flex;height:100vh;background-color:#fff}.sidebar{width:300px;background-color:#f8f9fa;border-right:1px solid #e9ecef;display:flex;flex-direction:column;overflow:hidden}.sidebar-header{padding:20px;border-bottom:1px solid #e9ecef;background-color:#fff}.sidebar-title{font-size:18px;font-weight:600;color:#333;margin-bottom:15px}.add-task-btn{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;gap:8px;transition:background-color .2s}.add-task-btn:hover{background-color:#0056b3}.add-task-form{display:flex;flex-direction:column;gap:10px}.add-task-input{padding:10px;border:1px solid #e9ecef;border-radius:4px;font-size:14px}.add-task-actions{display:flex;gap:8px}.add-task-confirm{flex:1;padding:8px 12px;background-color:#28a745;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px}.add-task-confirm:disabled{background-color:#ccc;cursor:not-allowed}.add-task-cancel{flex:1;padding:8px 12px;background-color:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px}.task-list{flex:1;overflow-y:auto;padding:10px}.task-item{padding:12px 15px;margin-bottom:8px;background-color:#fff;border:1px solid #e9ecef;border-radius:6px;cursor:pointer;transition:all .2s;position:relative}.task-item:hover{border-color:#007bff;box-shadow:0 2px 4px #007bff1a}.task-item.active{border-color:#007bff;background-color:#f8f9ff}.task-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px}.task-drag-handle{display:flex;align-items:center;color:#999;cursor:grab;margin-right:8px;opacity:0;transition:opacity .2s}.task-drag-handle:active{cursor:grabbing}.task-item:hover .task-drag-handle{opacity:1}.task-item.dragging{opacity:.5;transform:rotate(2deg);box-shadow:0 4px 8px #0003}.task-item.drag-over{border-color:#007bff;background-color:#e3f2fd;transform:translateY(-2px);box-shadow:0 4px 12px #007bff4d}.task-title{font-weight:500;color:#333;font-size:14px;flex:1}.task-title-input{flex:1;font-weight:500;color:#333;font-size:14px;border:1px solid #007bff;border-radius:3px;padding:2px 6px;background-color:#fff;outline:none}.task-title-input:focus{box-shadow:0 0 0 2px #007bff33}.task-actions{display:flex;gap:5px;opacity:0;transition:opacity .2s}.task-item:hover .task-actions{opacity:1}.task-action-btn{padding:4px;background:none;border:none;cursor:pointer;border-radius:3px;color:#666;transition:all .2s}.task-action-btn:hover{background-color:#f0f0f0;color:#333}.task-description{font-size:12px;color:#666;line-height:1.4;margin-top:5px}.task-stats{font-size:11px;color:#999;margin-top:5px}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;height:100vh}.content-header{padding:20px;border-bottom:1px solid #e9ecef;background-color:#fff;flex-shrink:0}.content-title{font-size:24px;font-weight:600;color:#333;margin-bottom:15px}.controls{display:flex;gap:20px;align-items:center}.control-group{display:flex;align-items:center;gap:8px}.control-label{font-size:14px;color:#666}.toggle-switch{position:relative;width:44px;height:24px;background-color:#ccc;border-radius:12px;cursor:pointer;transition:background-color .3s}.toggle-switch.active{background-color:#007bff}.toggle-slider{position:absolute;top:2px;left:2px;width:20px;height:20px;background-color:#fff;border-radius:50%;transition:transform .3s}.toggle-switch.active .toggle-slider{transform:translate(20px)}.content-body{flex:1;display:flex;overflow:hidden;min-height:0}.task-description-panel{min-width:200px;max-width:600px;display:flex;flex-direction:column;background-color:#fafafa;border-right:1px solid #e9ecef;overflow:hidden;min-height:0}.subtasks-panel{min-width:250px;max-width:500px;display:flex;flex-direction:column;background-color:#f8f9fa;border-right:1px solid #e9ecef;overflow:hidden;min-height:0}.panel-header{padding:15px 20px;border-bottom:1px solid #e9ecef;background-color:#fff;flex-shrink:0}.panel-title{font-size:16px;font-weight:600;color:#333;margin:0}.panel-header-content{display:flex;align-items:center;justify-content:space-between}.description-actions{display:flex;gap:4px}.description-action-btn{display:flex;align-items:center;gap:4px;padding:4px 8px;background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;font-size:12px;color:#495057;cursor:pointer;transition:all .2s}.description-action-btn:hover{background-color:#e9ecef}.description-action-btn.active{background-color:#007bff;color:#fff;border-color:#007bff}.panel-content{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column}.task-description-input{width:100%;height:100%;min-height:200px;padding:12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;line-height:1.5;resize:none;font-family:inherit;background-color:#fff}.task-description-input:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.resize-handle{width:4px;background-color:#e9ecef;cursor:col-resize;transition:background-color .2s;position:relative;flex-shrink:0}.resize-handle:hover{background-color:#007bff}.resize-handle:active{background-color:#0056b3}.resize-handle:before{content:"";position:absolute;top:0;left:-2px;right:-2px;bottom:0;background:transparent}.subtask-list{flex:1;margin-bottom:20px}.subtask-item{display:flex;align-items:center;gap:10px;padding:8px 12px;margin-bottom:8px;background-color:#fff;border:1px solid #e9ecef;border-radius:6px;cursor:move;transition:all .2s}.subtask-item.dragging{opacity:.5;transform:rotate(1deg);box-shadow:0 2px 8px #00000026}.subtask-item.drag-over{background-color:#e3f2fd;border-color:#007bff;transform:translateY(-1px);box-shadow:0 2px 8px #007bff33}.subtask-drag-handle{display:flex;align-items:center;color:#999;cursor:grab;opacity:0;transition:opacity .2s}.subtask-drag-handle:active{cursor:grabbing}.subtask-item:hover .subtask-drag-handle{opacity:1}.subtask-checkbox{width:16px;height:16px;cursor:pointer}.subtask-text{flex:1;font-size:14px;color:#333}.subtask-text.completed{text-decoration:line-through;color:#999}.subtask-text-input{flex:1;font-size:14px;color:#333;border:1px solid #007bff;border-radius:3px;padding:2px 6px;background-color:#fff;outline:none}.subtask-text-input:focus{box-shadow:0 0 0 2px #007bff33}.add-subtask-form{margin-top:auto;display:flex;gap:10px}.add-subtask-input{flex:1;padding:8px 12px;border:1px solid #e9ecef;border-radius:4px;font-size:14px}.add-subtask-btn{padding:8px 15px;background-color:#28a745;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s;display:flex;align-items:center;gap:5px}.add-subtask-btn:hover{background-color:#218838}.add-subtask-btn:disabled{background-color:#ccc;cursor:not-allowed}.chat-area{flex:1;display:flex;flex-direction:column;background-color:#fff;min-width:400px;min-height:0;overflow:hidden}.chat-header{padding:15px 20px;border-bottom:1px solid #e9ecef;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.chat-title{font-size:16px;font-weight:600;color:#333}.chat-actions{display:flex;gap:10px}.chat-action-btn{padding:6px 12px;background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;cursor:pointer;font-size:12px;color:#666;transition:all .2s;display:flex;align-items:center;gap:5px}.chat-action-btn:hover{background-color:#e9ecef;color:#333}.chat-messages{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:15px;min-height:0;height:0}.chat-messages::-webkit-scrollbar{width:6px}.chat-messages::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.chat-messages::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.chat-messages::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.message{max-width:80%;padding:12px 16px;border-radius:12px;font-size:14px;line-height:1.5;position:relative}.message.user{align-self:flex-end;background-color:#007bff;color:#fff}.message.assistant{align-self:flex-start;background-color:#f8f9fa;color:#333;border:1px solid #e9ecef}.message-content{margin-bottom:5px}.message-time{font-size:11px;opacity:.7;text-align:right}.message.user .message-time{color:#fffc}.thinking-content{display:flex;flex-direction:column;gap:15px}.reasoning-section{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:12px}.reasoning-label{font-size:12px;color:#856404;font-weight:600;margin-bottom:8px;display:flex;align-items:center;gap:5px}.reasoning-text{font-size:13px;color:#666;line-height:1.5;font-family:Courier New,monospace;background-color:#fff;border:1px solid #dee2e6;border-radius:4px;padding:10px;max-height:300px;overflow-y:auto}.final-answer-section{background-color:#e8f4fd;border:1px solid #b8daff;border-radius:8px;padding:12px}.final-answer-label{font-size:12px;color:#004085;font-weight:600;margin-bottom:8px;display:flex;align-items:center;gap:5px}.final-answer-text{font-size:14px;color:#333;line-height:1.6}.message-text h1,.final-answer-text h1,.reasoning-text h1{font-size:18px;font-weight:600;margin:16px 0 8px;color:#333}.message-text h2,.final-answer-text h2,.reasoning-text h2{font-size:16px;font-weight:600;margin:14px 0 6px;color:#333}.message-text h3,.final-answer-text h3,.reasoning-text h3{font-size:14px;font-weight:600;margin:12px 0 4px;color:#333}.message-text p,.final-answer-text p,.reasoning-text p{margin:8px 0;line-height:1.6}.message-text ul,.final-answer-text ul,.reasoning-text ul,.message-text ol,.final-answer-text ol,.reasoning-text ol{margin:8px 0;padding-left:20px}.message-text li,.final-answer-text li,.reasoning-text li{margin:4px 0;line-height:1.5}.message-text code,.final-answer-text code,.reasoning-text code{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:3px;padding:2px 4px;font-family:Courier New,monospace;font-size:13px}.message-text pre,.final-answer-text pre,.reasoning-text pre{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:12px;overflow-x:auto;margin:8px 0}.message-text pre code,.final-answer-text pre code,.reasoning-text pre code{background:none;border:none;padding:0}.message-text blockquote,.final-answer-text blockquote,.reasoning-text blockquote{border-left:4px solid #007bff;margin:8px 0;padding-left:12px;color:#666;font-style:italic}.message-text table,.final-answer-text table,.reasoning-text table{border-collapse:collapse;width:100%;margin:8px 0}.message-text th,.final-answer-text th,.reasoning-text th,.message-text td,.final-answer-text td,.reasoning-text td{border:1px solid #e9ecef;padding:8px;text-align:left}.message-text th,.final-answer-text th,.reasoning-text th{background-color:#f8f9fa;font-weight:600}.message-text strong,.final-answer-text strong,.reasoning-text strong{font-weight:600}.message-text em,.final-answer-text em,.reasoning-text em{font-style:italic}.typing-indicator{display:flex;gap:4px;align-items:center}.typing-indicator span{width:8px;height:8px;border-radius:50%;background-color:#007bff;animation:typing 1.4s infinite ease-in-out}.typing-indicator span:nth-child(1){animation-delay:-.32s}.typing-indicator span:nth-child(2){animation-delay:-.16s}@keyframes typing{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.chat-input-area{padding:20px;border-top:1px solid #e9ecef;background-color:#fafafa;flex-shrink:0}.chat-controls{display:flex;gap:20px;align-items:center;margin-bottom:15px;padding:12px 16px;background-color:#fff;border:1px solid #e9ecef;border-radius:8px}.chat-input-form{display:flex;gap:10px;align-items:flex-end}.chat-input{flex:1;min-height:40px;max-height:120px;padding:10px 15px;border:1px solid #e9ecef;border-radius:20px;font-size:14px;line-height:1.5;resize:none;font-family:inherit;background-color:#fff;transition:border-color .2s,box-shadow .2s}.chat-input:disabled{background-color:#f8f9fa;cursor:not-allowed;opacity:.6}.chat-input:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.send-btn{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .2s;display:flex;align-items:center;gap:5px}.send-btn:hover{background-color:#0056b3}.send-btn:disabled{background-color:#ccc;cursor:not-allowed}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#666;text-align:center}.empty-state-icon{font-size:48px;margin-bottom:15px;opacity:.5}.empty-state-text{font-size:16px;margin-bottom:5px}.empty-state-subtext{font-size:14px;opacity:.7}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.template-toolbar{padding:12px 16px;border-bottom:1px solid #e9ecef;background-color:#f8f9fa;position:relative;z-index:10}.template-buttons{display:flex;gap:8px;align-items:center;overflow-x:auto;padding-bottom:4px}.template-button-group{position:relative;display:flex;align-items:center;flex-shrink:0}.template-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;background-color:#fff;border:1px solid #e9ecef;border-radius:6px 0 0 6px;font-size:12px;color:#495057;cursor:pointer;transition:all .2s;white-space:nowrap}.template-btn:hover{background-color:#e9ecef;border-color:#dee2e6}.template-dropdown-btn{padding:6px 8px;background-color:#fff;border:1px solid #e9ecef;border-left:none;border-radius:0 6px 6px 0;cursor:pointer;transition:all .2s;display:flex;align-items:center}.template-dropdown-btn:hover{background-color:#e9ecef;border-color:#dee2e6}.new-template-btn{border-radius:6px!important;background-color:#007bff;color:#fff;border-color:#007bff}.new-template-btn:hover{background-color:#0056b3;border-color:#0056b3}.template-dropdown{position:fixed;z-index:1001;min-width:120px;background-color:#fff;border:1px solid #e9ecef;border-radius:6px;box-shadow:0 4px 12px #0000001a;margin-bottom:4px}.template-dropdown-item{display:flex;align-items:center;gap:8px;width:100%;padding:8px 12px;background:none;border:none;text-align:left;font-size:12px;color:#495057;cursor:pointer;transition:background-color .2s}.template-dropdown-item:hover{background-color:#f8f9fa}.template-dropdown-item.danger{color:#dc3545}.template-dropdown-item.danger:hover{background-color:#f8d7da}.template-dropdown-item:first-child{border-radius:6px 6px 0 0}.template-dropdown-item:last-child{border-radius:0 0 6px 6px}.task-description-content-area{height:100%;border:1px solid #e9ecef;border-radius:6px;overflow:visible}.task-description-input{width:100%;height:100%;min-height:300px;padding:16px;border:none;font-size:14px;line-height:1.6;resize:none;font-family:Consolas,Monaco,Courier New,monospace;outline:none}.task-description-preview{height:100%;min-height:300px;padding:16px;background-color:#fff;overflow-y:auto}.task-description-preview h1,.task-description-preview h2,.task-description-preview h3,.task-description-preview h4,.task-description-preview h5,.task-description-preview h6{margin:16px 0 8px;font-weight:600;line-height:1.3}.task-description-preview h1{font-size:24px;border-bottom:2px solid #e9ecef;padding-bottom:8px}.task-description-preview h2{font-size:20px;border-bottom:1px solid #e9ecef;padding-bottom:6px}.task-description-preview h3{font-size:18px}.task-description-preview p{margin:8px 0;line-height:1.6}.task-description-preview ul,.task-description-preview ol{margin:8px 0;padding-left:20px}.task-description-preview li{margin:4px 0;line-height:1.5}.task-description-preview code{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:2px 6px;font-family:Consolas,Monaco,Courier New,monospace;font-size:13px}.task-description-preview pre{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:6px;padding:12px;overflow-x:auto;margin:8px 0}.task-description-preview pre code{background:none;border:none;padding:0}.task-description-preview blockquote{border-left:4px solid #007bff;margin:8px 0;padding-left:12px;color:#666;font-style:italic}.task-description-preview table{border-collapse:collapse;width:100%;margin:8px 0}.task-description-preview th,.task-description-preview td{border:1px solid #e9ecef;padding:8px;text-align:left}.task-description-preview th{background-color:#f8f9fa;font-weight:600}.task-description-preview strong{font-weight:600}.task-description-preview em{font-style:italic}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:2000}.modal-content{background-color:#fff;border-radius:12px;box-shadow:0 8px 32px #0003;max-width:90vw;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.template-modal{width:800px;height:600px}.confirm-modal{width:400px}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #e9ecef;background-color:#f8f9fa}.modal-title{margin:0;font-size:18px;font-weight:600;color:#212529}.modal-close-btn{background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;color:#6c757d;transition:all .2s}.modal-close-btn:hover{background-color:#e9ecef;color:#495057}.modal-body{flex:1;padding:24px;overflow-y:auto}.modal-footer{display:flex;gap:12px;justify-content:flex-end;padding:20px 24px;border-top:1px solid #e9ecef;background-color:#f8f9fa}.form-group{margin-bottom:20px}.form-label{display:block;margin-bottom:8px;font-weight:500;color:#495057;font-size:14px}.form-label-with-actions{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.form-input{width:100%;padding:10px 12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;transition:border-color .2s,box-shadow .2s}.form-input:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.form-textarea{width:100%;padding:12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;line-height:1.6;resize:vertical;font-family:Consolas,Monaco,Courier New,monospace;transition:border-color .2s,box-shadow .2s}.form-textarea:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.template-textarea{min-height:300px}.template-content-area{height:300px;border:1px solid #e9ecef;border-radius:6px;overflow:hidden}.template-preview{height:100%;padding:12px;overflow-y:auto;background-color:#fff}.template-actions{display:flex;gap:4px}.template-action-btn{display:flex;align-items:center;gap:4px;padding:4px 8px;background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;font-size:12px;color:#495057;cursor:pointer;transition:all .2s}.template-action-btn:hover{background-color:#e9ecef}.template-action-btn.active{background-color:#007bff;color:#fff;border-color:#007bff}.btn{padding:8px 16px;border:1px solid transparent;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-primary{background-color:#007bff;color:#fff;border-color:#007bff}.btn-primary:hover{background-color:#0056b3;border-color:#0056b3}.btn-primary:disabled{background-color:#6c757d;border-color:#6c757d;cursor:not-allowed}.btn-secondary{background-color:#6c757d;color:#fff;border-color:#6c757d}.btn-secondary:hover{background-color:#545b62;border-color:#545b62}.btn-danger{background-color:#dc3545;color:#fff;border-color:#dc3545}.btn-danger:hover{background-color:#c82333;border-color:#c82333}.confirm-icon-wrapper{display:flex;align-items:center;gap:12px}.confirm-icon{flex-shrink:0}.confirm-icon.warning{color:#ffc107}.confirm-icon.danger{color:#dc3545}.confirm-icon.info{color:#17a2b8}.confirm-message{margin:0;line-height:1.6;color:#495057}.chat-history-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:1000;display:flex;justify-content:flex-end}.chat-history-drawer{width:400px;height:100%;background-color:#fff;box-shadow:-2px 0 8px #0000001a;display:flex;flex-direction:column;animation:slideInRight .3s ease-out}@keyframes slideInRight{0%{transform:translate(100%)}to{transform:translate(0)}}.drawer-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #e9ecef;background-color:#f8f9fa}.drawer-title{margin:0;font-size:18px;font-weight:600;color:#212529}.close-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:none;border:none;border-radius:6px;color:#6c757d;cursor:pointer;transition:all .2s}.close-btn:hover{background-color:#e9ecef;color:#495057}.drawer-content{flex:1;overflow-y:auto;padding:16px 0}.empty-history{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:#6c757d}.empty-icon{width:48px;height:48px;margin-bottom:12px;opacity:.5}.empty-text{font-size:16px;font-weight:500}.history-list{padding:0 16px}.history-item{display:flex;align-items:center;padding:12px 16px;margin-bottom:8px;border:1px solid #e9ecef;border-radius:8px;cursor:pointer;transition:all .2s;background-color:#fff}.history-item:hover{background-color:#f8f9fa;border-color:#007bff;box-shadow:0 2px 4px #007bff1a}.history-content{flex:1;min-width:0}.history-name{font-size:14px;font-weight:500;color:#212529;margin-bottom:4px;word-break:break-word;line-height:1.4}.history-meta{font-size:12px;color:#6c757d}.history-actions{display:flex;gap:4px;margin-left:12px;opacity:0;transition:opacity .2s}.history-item:hover .history-actions{opacity:1}.action-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:none;border:none;border-radius:4px;cursor:pointer;transition:all .2s}.edit-btn{color:#6c757d}.edit-btn:hover{background-color:#e9ecef;color:#495057}.delete-btn{color:#dc3545}.delete-btn:hover{background-color:#f8d7da;color:#721c24}.edit-input{width:100%;padding:4px 8px;border:1px solid #007bff;border-radius:4px;font-size:14px;font-weight:500;background-color:#fff;color:#212529}.edit-input:focus{outline:none;box-shadow:0 0 0 2px #007bff33}.markdown-editor{display:flex;flex-direction:column;height:100%;border:1px solid #e9ecef;border-radius:6px;overflow:hidden;background-color:#fff}.markdown-toolbar{display:flex;align-items:center;gap:8px;padding:8px 12px;background-color:#f8f9fa;border-bottom:1px solid #e9ecef;flex-shrink:0}.toolbar-group{display:flex;align-items:center;gap:4px}.toolbar-group:not(:last-child):after{content:"";width:1px;height:20px;background-color:#dee2e6;margin-left:8px}.toolbar-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border:none;background-color:transparent;border-radius:4px;cursor:pointer;color:#495057;transition:all .2s;font-size:12px;padding:0}.toolbar-btn:hover{background-color:#e9ecef;color:#212529}.toolbar-btn.active{background-color:#007bff;color:#fff}.toolbar-spacer{flex:1}.markdown-content{flex:1;display:flex;flex-direction:column;overflow:hidden}.markdown-textarea{flex:1;width:100%;padding:16px;border:none;font-size:14px;line-height:1.6;resize:none;font-family:Consolas,Monaco,Courier New,monospace;outline:none;background-color:#fff}.markdown-preview{flex:1;padding:16px;background-color:#fff;overflow-y:auto}.markdown-preview h1,.task-description-preview h1{font-size:18px;font-weight:600;margin:16px 0 8px;color:#333}.markdown-preview h2,.task-description-preview h2{font-size:16px;font-weight:600;margin:14px 0 6px;color:#333}.markdown-preview h3,.task-description-preview h3{font-size:14px;font-weight:600;margin:12px 0 4px;color:#333}.markdown-preview p,.task-description-preview p{margin:8px 0;line-height:1.6}.markdown-preview ul,.task-description-preview ul,.markdown-preview ol,.task-description-preview ol{margin:8px 0;padding-left:20px}.markdown-preview li,.task-description-preview li{margin:4px 0;line-height:1.5}.markdown-preview code,.task-description-preview code{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:3px;padding:2px 4px;font-family:Courier New,monospace;font-size:13px}.markdown-preview pre,.task-description-preview pre{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:12px;overflow-x:auto;margin:8px 0}.markdown-preview pre code,.task-description-preview pre code{background:none;border:none;padding:0}.markdown-preview blockquote,.task-description-preview blockquote{border-left:4px solid #007bff;margin:8px 0;padding-left:12px;color:#666;font-style:italic}.markdown-preview table,.task-description-preview table{border-collapse:collapse;width:100%;margin:8px 0}.markdown-preview th,.task-description-preview th,.markdown-preview td,.task-description-preview td{border:1px solid #e9ecef;padding:8px;text-align:left}.markdown-preview th,.task-description-preview th{background-color:#f8f9fa;font-weight:600}.markdown-preview strong,.task-description-preview strong{font-weight:600}.markdown-preview em,.task-description-preview em{font-style:italic}.task-description-editor{height:100%;border:none;border-radius:0}.task-description-editor .markdown-toolbar{background-color:#fff;border-bottom:1px solid #e9ecef;padding:12px 16px}.task-description-editor .markdown-content,.task-description-editor .markdown-textarea,.task-description-editor .markdown-preview{min-height:300px}.subtask-group{margin-bottom:8px}.subtask-item{position:relative;display:flex;align-items:center;padding:8px 12px;background-color:#fff;border:1px solid #e9ecef;border-radius:6px;margin-bottom:4px;transition:all .2s;gap:8px}.subtask-item:hover{border-color:#007bff;box-shadow:0 2px 4px #007bff1a}.subtask-item.dragging{opacity:.5;transform:rotate(1deg);box-shadow:0 4px 8px #0003}.subtask-item.drag-over{border-color:#007bff;background-color:#e3f2fd;transform:translateY(-1px);box-shadow:0 4px 12px #007bff4d}.subtask-item.drag-over.indent-zone{background-color:#fff3cd;border-color:#ffc107;box-shadow:0 4px 12px #ffc1074d}.subtask-item.drag-over.indent-zone:after{content:"成为孙任务";position:absolute;top:-25px;right:10px;background-color:#ffc107;color:#212529;padding:2px 8px;border-radius:4px;font-size:12px;font-weight:500;z-index:10}.collapse-btn{background:none;border:none;cursor:pointer;color:#6c757d;padding:2px;border-radius:3px;display:flex;align-items:center;justify-content:center;transition:all .2s;min-width:20px}.collapse-btn:hover{background-color:#f8f9fa;color:#007bff}.collapse-placeholder{display:flex;align-items:center;justify-content:center;min-width:20px;height:20px;color:#7e8185;opacity:.6}.subtask-actions{display:flex;gap:4px;margin-left:auto;opacity:0;transition:opacity .2s}.subtask-item:hover .subtask-actions{opacity:1}.add-subtask-btn{background-color:#007bff;border:1px solid #007bff;color:#fff;border-radius:4px;padding:4px 6px;display:flex;align-items:center;justify-content:center;transition:all .2s;min-width:24px;height:24px}.add-subtask-btn:hover{background-color:#0056b3;border-color:#004085;transform:scale(1.05)}.add-grandchild-btn{background-color:#6c757d;border:1px solid #6c757d;color:#fff;border-radius:4px;padding:4px 6px;display:flex;align-items:center;justify-content:center;transition:all .2s;min-width:24px;height:24px}.add-grandchild-btn:hover{background-color:#545b62;border-color:#4e555b;transform:scale(1.05)}.grandchild-list{margin-left:24px;margin-top:4px;border-left:2px solid #e9ecef;padding-left:12px}.grandchild-item{position:relative;display:flex;align-items:center;padding:8px 12px;background-color:#fff;border:1px solid #e9ecef;border-radius:6px;margin-bottom:4px;transition:all .2s;gap:8px;font-size:14px}.grandchild-item:hover{border-color:#007bff;box-shadow:0 2px 4px #007bff1a}.grandchild-item.dragging{opacity:.5;transform:rotate(.5deg);box-shadow:0 2px 6px #0003}.grandchild-item.drag-over{border-color:#007bff;background-color:#e3f2fd;transform:translateY(-1px);box-shadow:0 2px 8px #007bff4d}.grandchild-item.drag-over.indent-zone{background-color:#fff3cd;border-color:#ffc107;box-shadow:0 2px 8px #ffc1074d}.grandchild-item.drag-over.indent-zone:after{content:"成为孙任务";position:absolute;top:-22px;right:8px;background-color:#ffc107;color:#212529;padding:1px 6px;border-radius:3px;font-size:11px;font-weight:500;z-index:10}.grandchild-drag-handle{display:flex;align-items:center;color:#999;cursor:grab;opacity:0;transition:opacity .2s}.grandchild-drag-handle:active{cursor:grabbing}.grandchild-item:hover .grandchild-drag-handle{opacity:1}.grandchild-checkbox{width:16px;height:16px;cursor:pointer}.grandchild-text{flex:1;color:#495057;line-height:1.4}.grandchild-text.completed{text-decoration:line-through;color:#6c757d}.grandchild-text-input{flex:1;border:1px solid #007bff;border-radius:4px;padding:4px 8px;font-size:14px;background-color:#fff;outline:none}.grandchild-actions{display:flex;gap:3px;margin-left:auto;opacity:0;transition:opacity .2s}.grandchild-item:hover .grandchild-actions{opacity:1}.grandchild-actions .task-action-btn{padding:4px 6px;font-size:12px}.grandchild-actions .add-grandchild-btn{background-color:#6c757d;border:1px solid #6c757d}.grandchild-actions .add-grandchild-btn:hover{background-color:#545b62;border-color:#4e555b}.drag-hint{position:absolute;background-color:#007bffe6;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;pointer-events:none;z-index:1000;white-space:nowrap}@media (max-width: 768px){.grandchild-list{margin-left:16px;padding-left:8px}.subtask-actions,.grandchild-actions{opacity:1}}
